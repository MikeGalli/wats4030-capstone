"use strict";angular.module("wats4030CapstoneApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("wats4030CapstoneApp").controller("MainCtrl",["$scope","current","repsearch",function(a,b,c){a.current=b.query(),a.refreshCurrent=function(d){a.current=b.query({location:d}),a.current.$promise.then(function(b){a.repsearch=c.query({lat:b.results[0].geometry.location.lat,lng:b.results[0].geometry.location.lng})})}}]),angular.module("wats4030CapstoneApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("wats4030CapstoneApp").factory("current",["$resource",function(a){return a("https://maps.googleapis.com/maps/api/geocode/json?address=:location&key=AIzaSyDHcLJvjxGIE2Z3Hk3jKN2WZhB73fXAt4c",{},{query:{method:"GET",params:{location:"1600+Amphitheatre+Parkway,+Mountain+View,+CA"},isArray:!1}})}]),angular.module("wats4030CapstoneApp").factory("repsearch",["$resource",function(a){return a("https://openstates.org/api/v1/legislators/geo/?lat=:lat&long=:lng",{},{query:{method:"GET",params:{lat:"42.96",lng:"-108.09"},isArray:!0}})}]),angular.module("wats4030CapstoneApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div> This is Main View </div> <!-- START Test Lat - Long data --> <!-- START Test Lat - Long data --> <div class="jumbotron"> <div class="jumbotron"> <h1>Address {{current.name}}</h1> <p class="lead"> <div ng-init="location=\'xxx1600 Amphitheatre Parkway, Mountain View, CA\'"> <p> <label for="location">Street Address: <input type="text" name="location" ng-model="location"> </label> </p> <p> <button class="btn btn-lg btn-primary" ng-click="refreshCurrent(location)">Get lon - lat</button> </p> <dl> <dt>Lat</dt> <dd>{{current.results[0].geometry.location.lat}}</dd> <dt>Lng</dt> <dd>{{current.results[0].geometry.location.lng}}</dd> </dl> </div> </p> </div> </div> <!-- END Test Lat - Long data --> <!-- END Test Lat - Long data --> <!--Start RepSearch//////////////////////////--> <!--Start RepSearch//////////////////////////--> <!--////////////////////////////////////\nThis note refers to 2 variables that are used in the code below.\nIt’s a reminder of how to perform a basic function on a site, looping through data.\n	1) var repinfo\n	2) var role\nThe data that is returned from the API is turned into an object/objects.\nThese objects can be looped through and any data they contain\ncan be pulled out to show on the site.\n\n<dl ng-repeat="repinfo in repsearch”…..\n	Contains: repinfo(object) contains everything in repsearch.\n	Means: loop through the object and get all the data.\n  (data I’m interested in will be requested below)\n<dd>{{repinfo.last_name}}….\n	Means: go to repsearch: print out all the values for last name.\n\nThere are arrays inside the array repsearch. Some have more data than others.\nRather than accessing those arrays directly, we’ll create a new variable\nto contain everything in that array, then loop through it.\n\n<dl ng-repeat="role in repinfo.roles”….\n	Contains: role(object) Contains all the data in the array roles.\n	Means: We’re going to loop through role to get data.\n  Specific data will be requested below.\nPull out some (specific) data:\n<dd>{{role.term}}….\n	Means: While we’re looping through repinfo, Let’s also loop through role\n  and print out all the data (values) that exist for term\n////////////////////////////////////--> <div class="jumbotron"> <div class="jumbotron"> <h1>Your Reps {{repsearch.name}}</h1> <div ng-init="repsearch"> <div class="container"> <dl ng-repeat="repinfo in repsearch" class="reps"> <dt>Name</dt> <dd>{{repinfo.last_name}} {{repinfo.first_name}}</dd> <dt>roles</dt> <dl ng-repeat="role in repinfo.roles"> <!--optional "Transform data" function--> <dd>Term: {{role.term}}</dd> <dd>Party: {{role.party}}</dd> <dd>Active: {{repinfo.active}}</dd> <dd>Photo: <img ng-src="{{repinfo.photo_url}}"></dd> </dl> <dd>{{repinfo.last_name}}</dd> </dl> </div> </div> </div> </div> <!--End RepSearch//////////////////////////--> <!--End RepSearch//////////////////////////--> <div class="row marketing"> </div>')}]);